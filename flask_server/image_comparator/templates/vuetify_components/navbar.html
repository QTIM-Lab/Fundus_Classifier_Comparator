
<script type="text/template" id="navbar">

        <v-app-bar
        color="black accent-4"
        dense
        dark
        app
        >
            <v-toolbar-title>Home [[ logged_in ]]</v-toolbar-title>

            <v-spacer></v-spacer>
    
            <v-toolbar-title>Sign Up</v-toolbar-title>
            <v-toolbar-title>Login</v-toolbar-title>
            <v-toolbar-title v-if="logged_in">Logout</v-toolbar-title>

            <v-menu
            left
            bottom
            >
                <template v-slot:activator="{ on, attrs }">
                    <v-btn
                    icon
                    v-bind="attrs"
                    v-on="on"
                    >
                    <v-icon>mdi-account</v-icon>
                    </v-btn>
                </template>
        
                <v-list>
                    <v-list-item
                    v-for="(menu_item, i) in menu_items"
                    :key="i"
                    @click="() => {}"
                    >
                    <v-list-item-title>
                        <a href="/">[[ menu_item ]]</a>
                    </v-list-item-title>
                    </v-list-item>
                </v-list>
            </v-menu>
        </v-app-bar>

</script>

<script>
    Vue.component('navbar-tag', {
        template: '#navbar',
        data() {
            return { 
                menu_items: ['Sign Up', 'Login', 'Logout'],
                logged_in: {{ logged_in|tojson }},
                config: null,
            }
        },
        delimiters: ['[[',']]'],
        beforeCreate() {},
        created() {},
        beforeMount() {
            this.get_config()
        },
        mounted() {},
        methods: {
            get_config: function (){
                debugger
                fetch('/configuration')
                .then((response) => response.json())
                .then((data) => {
                    this.config = data
                    console.log(this.config)
                });
            },
        },
    });
</script>